{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Enhanced Survey Schema with Real Data",
  "type": "object",
  "required": ["id", "title", "topic", "questions", "results", "metadata"],
  "properties": {
    "id": {
      "type": "string",
      "pattern": "^survey_[0-9]{3}$",
      "description": "ID format: survey_001, survey_002, etc."
    },
    "title": {
      "type": "string",
      "description": "Titlul chestionarului"
    },
    "topic": {
      "type": "string",
      "description": "Subiectul principal"
    },
    "description": {
      "type": "string",
      "description": "Descriere scurtă a chestionarului"
    },
    "metadata": {
      "type": "object",
      "required": ["dataSource", "researchDate", "sampleSize"],
      "properties": {
        "dataSource": {
          "type": "array",
          "description": "Sursele de date folosite (studii, articole, site-uri)",
          "items": {
            "type": "object",
            "required": ["name", "url", "type"],
            "properties": {
              "name": {
                "type": "string",
                "description": "Numele sursei (ex: 'Harvard Business Review Study 2024')"
              },
              "url": {
                "type": "string",
                "description": "URL-ul sursei"
              },
              "type": {
                "type": "string",
                "enum": ["study", "article", "research", "book", "website"],
                "description": "Tipul sursei"
              },
              "year": {
                "type": "integer",
                "description": "Anul publicării"
              }
            }
          }
        },
        "researchDate": {
          "type": "string",
          "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}$",
          "description": "Data la care au fost căutate datele (YYYY-MM-DD)"
        },
        "sampleSize": {
          "type": "integer",
          "description": "Dimensiunea totală a eșantionului de cercetare folosit"
        },
        "demographics": {
          "type": "object",
          "description": "Informații demografice despre eșantion",
          "properties": {
            "ageRange": {
              "type": "string",
              "description": "Intervalul de vârstă (ex: '18-65')"
            },
            "countries": {
              "type": "array",
              "items": {"type": "string"},
              "description": "Țările incluse în cercetare"
            },
            "gender": {
              "type": "string",
              "description": "Distribuția de gen (ex: '48% bărbați, 52% femei')"
            }
          }
        }
      }
    },
    "questions": {
      "type": "array",
      "minItems": 3,
      "maxItems": 3,
      "items": {
        "type": "object",
        "required": ["text", "options", "context"],
        "properties": {
          "text": {
            "type": "string",
            "description": "Textul întrebării"
          },
          "context": {
            "type": "object",
            "required": ["researchBasis", "realWorldData"],
            "properties": {
              "researchBasis": {
                "type": "string",
                "description": "Explicație despre cum întrebarea este bazată pe cercetare reală"
              },
              "realWorldData": {
                "type": "object",
                "description": "Date reale din cercetare",
                "required": ["totalResponses", "distribution"],
                "properties": {
                  "totalResponses": {
                    "type": "integer",
                    "description": "Numărul total de respondenți din studii"
                  },
                  "distribution": {
                    "type": "array",
                    "description": "Distribuția reală a răspunsurilor din cercetare (procente)",
                    "minItems": 3,
                    "maxItems": 3,
                    "items": {
                      "type": "number",
                      "minimum": 0,
                      "maximum": 100
                    }
                  }
                }
              }
            }
          },
          "options": {
            "type": "array",
            "minItems": 3,
            "maxItems": 3,
            "items": {
              "type": "object",
              "required": ["text", "score", "analysis", "realWorldPercentage"],
              "properties": {
                "text": {
                  "type": "string",
                  "description": "Textul răspunsului"
                },
                "score": {
                  "type": "number",
                  "minimum": 1,
                  "maximum": 3,
                  "description": "Punctaj: 1 (slab), 2 (mediu), 3 (bun)"
                },
                "analysis": {
                  "type": "string",
                  "description": "Analiza bazată pe date reale din cercetare"
                },
                "realWorldPercentage": {
                  "type": "number",
                  "minimum": 0,
                  "maximum": 100,
                  "description": "Procentul real de oameni care aleg acest răspuns"
                },
                "scientificBasis": {
                  "type": "string",
                  "description": "Explicație științifică despre de ce acest răspuns este evaluat astfel"
                }
              }
            }
          }
        }
      }
    },
    "results": {
      "type": "array",
      "minItems": 3,
      "maxItems": 3,
      "items": {
        "type": "object",
        "required": ["range", "title", "description", "percentile", "realWorldComparison"],
        "properties": {
          "range": {
            "type": "string",
            "description": "Range de puncte (ex: 3-4, 5-7, 8-9)",
            "pattern": "^[0-9]+-[0-9]+$"
          },
          "title": {
            "type": "string",
            "description": "Titlul rezultatului"
          },
          "description": {
            "type": "string",
            "description": "Descrierea detaliată a rezultatului bazată pe date reale"
          },
          "percentile": {
            "type": "object",
            "required": ["value", "interpretation"],
            "properties": {
              "value": {
                "type": "number",
                "minimum": 0,
                "maximum": 100,
                "description": "Percentila în care se află utilizatorul (ex: 75 = top 25%)"
              },
              "interpretation": {
                "type": "string",
                "description": "Interpretare (ex: 'Te afli în top 25% din populație')"
              }
            }
          },
          "realWorldComparison": {
            "type": "object",
            "required": ["percentage", "description"],
            "properties": {
              "percentage": {
                "type": "number",
                "minimum": 0,
                "maximum": 100,
                "description": "Procentul real de oameni care cad în acest range"
              },
              "description": {
                "type": "string",
                "description": "Descriere comparativă bazată pe date (ex: 'Doar 15% din populație atinge acest nivel')"
              }
            }
          },
          "recommendations": {
            "type": "array",
            "description": "Recomandări bazate pe cercetare",
            "items": {
              "type": "object",
              "required": ["text", "source"],
              "properties": {
                "text": {
                  "type": "string",
                  "description": "Recomandarea"
                },
                "source": {
                  "type": "string",
                  "description": "Sursa recomandării (studiu, experți)"
                }
              }
            }
          }
        }
      }
    }
  }
}